function initMap(){createMap(),setMapEvent(),addMapControl(),addMapOverlay()}function createMap(){map=new BMap.Map("map"),map.centerAndZoom(new BMap.Point(116.360549,40.052958),17),map.setMapStyle({styleJson:[{featureType:"all",elementType:"all",stylers:{lightness:10,saturation:-100}}]})}function setMapEvent(){map.enableKeyboard(),map.enableDragging(),map.enableDoubleClickZoom(),map.disableScrollWheelZoom()}function addClickHandler(e,a){e.addEventListener("click",function(){e.openInfoWindow(a)})}function addMapOverlay(){for(var e=[{content:"\u5317\u4eac\u84dd\u6d77\u8baf\u901a\u79d1\u6280\u80a1\u4efd\u6709\u9650\u516c\u53f8",title:"OneAPM",imageOffset:{width:-23,height:-21},position:{lat:40.0534,lng:116.361725}}],a=0;a<e.length;a++){var n=new BMap.Point(e[a].position.lng,e[a].position.lat),t=new BMap.Marker(n,{icon:new BMap.Icon("http://api.map.baidu.com/lbsapi/createmap/images/icon.png",new BMap.Size(20,25),{imageOffset:new BMap.Size(e[a].imageOffset.width,e[a].imageOffset.height)})}),i=new BMap.Label(e[a].title,{offset:new BMap.Size(25,5)});i.setStyle({border:"none"});var o={width:200,title:e[a].title,enableMessage:!1},p=new BMap.InfoWindow(e[a].content,o);t.setLabel(i),addClickHandler(t,p),map.addOverlay(t),t.setAnimation(BMAP_ANIMATION_BOUNCE)}for(var l=[{strokeColor:"#00f",strokeWeight:"2",strokeOpacity:"0.6"}],r=[[new BMap.Point(116.359102,40.051908),new BMap.Point(116.361707,40.05253),new BMap.Point(116.361438,40.053227),new BMap.Point(116.361716,40.053282),new BMap.Point(116.361716,40.053282),new BMap.Point(116.361716,40.053282)]],a=0;a<l.length;a++){var M=new BMap.Polyline(r[a],l[a]);map.addOverlay(M)}}function addMapControl(){var e=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_LARGE});map.addControl(e)}var map;initMap();